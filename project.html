<!DOCTYPE html>
<html lang="en" >  
<head>
  <meta charset="utf-8">
  <style>
    @font-face {
      font-family: maple;
      src: url(Maplestory\ Light.ttf);
    }
 head{
   background:black;
 }
  body {
  padding-top:50px;
  min-width: 1000px;
  min-height: 1000px;
max-width: 1000px;
  background-image: url("별빛.jpg");
  background-size: cover;
  background-repeat: no-repeat;
  background-position: center;
  
  font-family: 'maple', sans-serif;
  text-align: center;
}
@import url(https://fonts.googleapis.com/css?family=BenchNine:700);
.snip1535 {
  background-color: #6981f0;
  border: none;
  color: #ffffff;
  cursor: pointer;
  display: inline-block;
  font-family: 'BenchNine', Arial, sans-serif;
  font-size: 1em;
  font-size: 22px;
  line-height: 1em;
  margin: 55px 45px 25px 35px;
  right: 40px;
  outline: none;
  padding: 12px 40px 10px;
  position: relative;
  text-transform: uppercase;
  font-weight: 700;
  
}
.snip1535:before,
.snip1535:after {
  border-color: transparent;
  -webkit-transition: all 0.25s;
  transition: all 0.33s;
  border-style: solid;
  border-width: 0;
  content: "";
  height: 24px;
  position: absolute;
  width: 24px;
}
.snip1535:before {
  border-color: #8699ee;
  border-right-width: 2px;
  border-top-width: 2px;
  right: -5px;
  top: -5px;
}
.snip1535:after {
  
  border-bottom-width: 2px;
  border-color: #8699ee;
  border-left-width: 2px;
  bottom: -5px;
  left: -5px;
}
.snip1535:hover,
.snip1535.hover {
  background-color: #8699ee;
}
.snip1535:hover:before,
.snip1535.hover:before,
.snip1535:hover:after,
.snip1535.hover:after {
  height: 100%;
  width: 100%;
}
.snip1535 input{
  display: none;
}
.snip1535 label{
  font-size: 19px;
}
.snip1535 input + label {
  z-index: 2;
  cursor: pointer;
}
.garo {
  display:flex;
}
.sero{
  position:relative;
  margin-top: 20%;
}
.result{
  font-size: 20px;
}
.container {
  max-width: 960px;
  margin: 30px auto;
  padding: 20px;
}
.abcde{
  background-color: white;
  padding: 30px;
  margin-left:10% ;
  margin-right:10%;
  height: 790px;
  font-size: 50px;
  font-weight: bold;
  text-align: center;
  background-color: #ffffff;
  background-color: rgba( 255, 255, 255, 0.75 );
}
.previous {
 text-decoration: none;
  display: inline-block;
  padding: 8px 10px;
  border-radius: 100%;
  margin-left:100px ;
  background-color: #f1f1f1;
  background-color: rgba( 255, 255, 255, 0.45 );
  color: rgb(46, 46, 46);
  position: absolute;
  font-size: 10px;
  top: 7%;
  left:1.5%;
}

.previous:hover{
  background-color: rgb(167, 167, 167);
}
.previous:active{
  
  transform: translateY(2px);
}
.previousa {
 text-decoration: none;
  display: inline-block;
  padding: 8px 10px;
  border-radius: 100%;
  margin-left:100px ;
  background-color: #f1f1f1;
  background-color: rgba( 255, 255, 255, 0.45 );
  color: rgb(46, 46, 46);
  position: absolute;
  font-size: 10px;
  bottom: 7%;
  left:1.5%;
  visibility: hidden;
  outline: none;
  border:none;
  cursor:pointer;
}

.previousa:hover{
  background-color: rgb(167, 167, 167);
}
.previousa:active{
  
  transform: translateY(2px);
}
h1 {
  font-size: 50px;
  text-align: center;
  margin: 0px 0 -5px;
}
h1 small {
  display: block;
  font-size: 15px;
  padding-top: 8px;
  color: gray;
  text-align: right;
  bottom:-1;
  position: absolute;
}
.avatar-upload {
  position: relative;
  max-width: 205px;
  margin: 50px auto;
}
.avatar-edit {
  right: 30%;
  top:57%;
  text-align: center;
  line-height: 100%;
  margin-right:95px;
}
.avatar-edit input {
  display: none;
}
.avatar-edit label{
  color:white;
  
  font-size:20px;
}
.avatar-edit input + label {
  display: inline-block;
  text-align: center;
  top:58%;
  width: 170px;
  height: 45px;
  margin-bottom: 0;
  background: #6981f0;
  border: 1px solid transparent;
  box-shadow: 2px 2px 2px 2px rgba(60, 96, 204, 0.5);
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  position : relative;
}
.avatar-edit input + label:active{
  background-color: rgba(60, 96, 204, 0.5);
  box-shadow: 0 5px #666;
  transform: translateY(6px);
}
.avatar-edit input + label:hover{
  background-color: rgba(60, 96, 204, 1);
}
.avatar-upload .avatar-preview {
  width: 300px;
  height: 300px;
  right :60px;
  position: relative;
  border: 6px solid #F8F8F8;
  box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.1);
}
.avatar-upload .avatar-preview > img {
  width: 100%;
  height: 100%;
  background-size: cover;
  background-repeat: no-repeat;
  background-position: center;
}
.star-bridge{
  font-size:40px;
}
.button {
  padding: 15px 25px;
  font-size: 24px;
  text-align: center;
  cursor: pointer;
  outline: none;
  color: #fff;
  background-color: #04AA6D;
  border: none;
  border-radius: 15px;
  box-shadow: 0 9px #999;
  
}

.button:hover {
  background-color: #3e8e41
}

.button:active {
  background-color: #3e8e41;
  box-shadow: 0 5px #666;
  transform: translateY(4px);
}
    </style>

    <script>$(document).ready(function() {
      $(".title").lettering();
      $(".button").lettering();
    });
    $(document).ready(function() {
      animation();
    }, 1000);
    $('.button').click(function() {
      animation();
    });

    function animation() {
      var title1 = new TimelineMax();
      title1.to(".button", 0, {visibility: 'hidden', opacity: 0})
      title1.staggerFromTo(".title span", 0.5, 
      {ease: Back.easeOut.config(1.7), opacity: 0, bottom: -80},
      {ease: Back.easeOut.config(1.7), opacity: 1, bottom: 0}, 0.05);
      title1.to(".button", 0.2, {visibility: 'visible' ,opacity: 1})
    }</script>
  <script>
    window.console = window.console || function(t) {};
  </script>
    
    <script>
    if (document.location.search.match(/type=embed/gi)) {
      window.parent.postMessage("resize", "*");
    }
  </script>
  </head>
  <body translate="no" >


<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@0.8/dist/teachablemachine-image.min.js"></script>
<script type="text/javascript">
    // More API functions here:
    // https://github.com/googlecreativelab/teachablemachine-community/tree/master/libraries/image

    // the link to your model provided by Teachable Machine export panel
    const URL = "./unse/";

    let model, webcam, labelContainer, maxPredictions, airesult, starbridge, Axplain;
    let a;
    // Load the image model and setup the webcam
    async function init() {
        var nones = document.getElementById('imagePreview')
        Axplain = document.getElementById('explain');
        
         if(nones=="물음표.jpg"){
          Axplain.innerText = "사진이 없습니다.";
          return;
         }
        const modelURL = URL + "model.json";
        const metadataURL = URL + "metadata.json";
        
        model = await tmImage.load(modelURL, metadataURL);
        maxPredictions = model.getTotalClasses();
        const flip = true; 
        starbridge = document.getElementById('starbridge_1');
      //  for (let i = 0; i < maxPredictions; i++) { // and class labels
            //labelContainer.appendChild(document.createElement("div"));
       // }
        airesult = document.getElementById('ai-result');
        await predict();

    }

    async function predict() {
       
      let bestPrediction = 0;
        let bestPredictionIdx = 0;
        a="별자리 정보\n";
        var image = document.getElementById('imagePreview')
        const prediction = await model.predict(image, false);
        for (let i = 0; i < maxPredictions; i++) {
             const classPrediction =
                 prediction[i].className + ": " + prediction[i].probability.toFixed(2)*100+"%";
             a += classPrediction+"\n";
            if (prediction[i].probability > bestPrediction) {
                bestPrediction = prediction[i].probability
                bestPredictionIdx = i
            }
        }
        document.all.adp.style.visibility="visible";
        starbridge.innerText="이 그림의 별자리 운세는 "+prediction[bestPredictionIdx].className+" 입니다.\n\n";
        if(prediction[bestPredictionIdx].className == "물병자리")
        
         airesult.innerText ="오버하는 친구가 있어서 조금은 황당해지겠네요. 원래 그렇지 않은 사람이 그러니 조금 당황스럽네요. 하지만 이러한 주변 사람의 부화뇌동에 동화되지 마시고, 조용히 지내는 것이 상책입니다.\n\n"+
         "애정운이 그다지 좋은 날은 아닙니다. 새로운 사람을 소개 받기에 적절치 않으니 약속을 조금 미뤄보면 어떨까요. 커플인 분의 경우에는 나쁘지 않습니다. 서로에 대한 애정을 차분히 돌아보는 계기가 마련될 수 있습니다.\n\n"+
         "재물운이 그다지 따라 주지는 않습니다. 하지만 당신의 노력이 헛되지는 않을 것입니다. 돈에 대하여 무작정 욕심을 부리는 것도 좋지 않지만, 그렇다고 해서 포기해버리는 것도 좋은 자세는 아닙니다.";
        else if(prediction[bestPredictionIdx].className == "물고기자리")
         airesult.innerText ="질질 끌면서 일을 미루다 보면 아무것도 이루어지지 않습니다. 스스로를 닥달해서라도 일을 추진할 수 있어야 합니다. 또한 자신의 생각이나 마음을 확실하게 표현하려는 노력도 필요합니다.\n\n"+
         "사랑이 활짝 피어나는 때입니다. 커플이신 분이라면 두 분의 사이에 사랑의 결실이 맺어지는 순간을 맞이할 수 있습니다. 싱글인 분 또한 연애운이 좋습니다. 당신의 마음을 보다 적극적으로 드러낼 필요가 있습니다.\n\n"+
         "재물운이 나쁘지 않습니다. 자신의 판단에 자신감을 갖도록 해야 합니다. 오늘은 다른 사람의 의견이 아니라 자신의 주관에 따라 움직여야 행운이 따르게 될 것입니다.";
         else if(prediction[bestPredictionIdx].className == "양자리")
         airesult.innerText ="자신의 상황이나 현실에 대하여 정확하게 인식할 필요가 있는 날입니다. 친구들을 만날 때나 새로운 일을 계획할 때, 기분에 취해서 무조건 결정하게 되면 나중에 손해를 볼 수도 있습니다.\n\n"+
         "조금 짧을 수는 있겠지만 뜨겁고 정열적인 사랑을 하게 될 수 있습니다. 정해진 만남이 아니라 우연한 만남에서 새로운 느낌을 갖게 됩니다. 커플인 분의 경우 기대하지 않았던 선물을 받게 될 수 있습니다.\n\n"+
         "재물운은 최상이라고 보여집니다. 당신의 삶이 업그레이드 되는 기회를 맞이하게 될 수도 있습니다. 자신에게 들어온 기회를 놓치지 않도록 정신을 바짝 차리고 있어야 합니다.";
         else if(prediction[bestPredictionIdx].className == "황소자리")
         airesult.innerText ="기본적인 매너를 지킬 때 행운이 따릅니다. 아무리 격의 없는 자리라고 할지라도 너무 오버하지 않도록 하는 것이 좋습니다. 자칫 상대에게 상처를 줄 수도 있으니까요.\n\n"+
         "싱글인 분의 경우 미팅이나 소개팅에 나가게 되면 조금 느끼해 보이는 사람을 만나게 될 수도 있습니다. 하지만 속까지 느끼한 사람은 아니니 너무 경계하지 마세요.\n\n"+
         "재물운이 무척 좋습니다. 생각지 않았던 큰 돈이 들어오게 되니 어떻게 해야 할지를 모르겠네요. 자신과 다른 사람을 위해 어느 정도 돈을 쓴다고 하여도 티가 나지 않으니 한 턱 쏘셔도 괜찮겠습니다.";
         else if(prediction[bestPredictionIdx].className == "쌍둥이자리")
         airesult.innerText ="중요한 결정이나 판단을 내리기에 적당한 때가 아닙니다. 자신도 같은 것을 가지고 있는데, 다른 사람이 가진 것이 무조건 커 보이게 되니 올바른 판단을 내리기 힘듭니다.\n\n"+
         "커플인 분의 경우 상대를 눈여겨 보세요. 겉으로는 웃고 있지만 속마음은 다를 수도 있습니다. 섬세하게 상대를 파악하지 않으면 다투게 될 수도 있습니다. 싱글인 분의 경우에는 예전에 사귀던 사람이 자꾸 생각날 수 있는 날이네요.\n\n"+
         "재물운은 나쁘지 않은 편입니다. 하지만 어딘가에 투자해 놓은 돈이 있다면 손대지 않는 것이 좋겠네요. 이렇게 저렇게 돈을 불릴 생각으로 움직이면 오히려 손해를 볼 수도 있습니다.";
         else if(prediction[bestPredictionIdx].className == "게자리")
         airesult.innerText ="크게 다툰 것도 아닌데 조금 멀어지는 친구들이 생기게 됩니다. 여러 사람이 모인 자리에서 은근히 따돌림을 당한다는 느낌을 받을 수도 있고요. 자신에 대한 다른 사람들의 평가를 확인해 보도록 하세요.\n\n"+
         "싱글인 분이라면 최대한 많은 사람을 만나보도록 하세요. 다양한 사람을 만나서 다양한 경험을 해야 좋은 사람을 선택할 수 있는 눈이 생기게 됩니다. 커플인 분의 경우에는 반대입니다. 쓸데없이 이 사람 저 사람을 만나다가는 연인으로부터 오해를 살 수 있으니 주의해야 합니다.\n\n"+
         "재물운은 평이한 수준입니다. 쓰는 돈과 벌어들이는 돈에 차이가 없으니 좋지도 나쁘지도 않습니다. 다만 목돈이 들어온다고 해서 한꺼번에 큰 액수를 쓰는 것은 오늘은 피하는 것이 좋겠습니다.";
         else if(prediction[bestPredictionIdx].className == "사자자리")
         airesult.innerText ="다른 사람의 말을 열심히 들으면 행운이 따릅니다. 하지만 당신이 먼저 말을 꺼내게 되면 오히려 해를 입을 수도 있고요. 일단은 상대방의 말을 먼저 듣고 그 다음에 당신의 말을 하도록 하세요.\n\n"+
         "커플인 분이라면 후회가 없도록 사랑을 하는 것이 좋겠습니다. 이것저것 재어가며 사랑을 한다면 나중에 후회를 하게 됩니다. 싱글인 분에게는 좋은 애정운이 들어와 있으니 미팅이나 소개팅에 적극적으로 참여해 보세요. 물론 말은 가급적 적게 하는 것이 좋겠네요.\n\n"+
         "재물운은 좋은 편입니다. 다만 자신의 재정 상황에 대하여 다른 사람에게 이야기하지 않도록 해야 합니다. 돈을 빌려달라고 하거나 당신을 이용하려고 덤벼드는 사람이 생길 수 있습니다.";
         else if(prediction[bestPredictionIdx].className == "처녀자리")
         airesult.innerText ="헛된 노력을 하게 될 수 있으니 주의가 필요합니다. 자신은 열심히 앞으로 나아갔다고 생각하는데 돌고 돌아 제자리일 수도 있습니다. 그리고 이로 인하여 피로감이 엄습할 수도 있겠고요.\n\n"+
         "커플인 분의 경우 상대방에게 의지를 하게 되는 날입니다. 자신의 힘든 점을 말씀해보세요. 살가운 위로를 받을 수 있을 것입니다. 싱글인 분 또한 다정다감한 성격의 이성을 만날 수 있는 운입니다.\n\n"+
         "재물운이 나쁘지는 않지만 예상외의 손실을 감수해야 할 수도 있습니다. 어느 정도의 현금을 가지고 다니는 것이 좋겠으며, 되도록 이른 귀가를 해야 이러한 손실을 피할 수 있습니다.";
         else if(prediction[bestPredictionIdx].className == "천칭자리")
         airesult.innerText ="큰 실수를 저지를 수 있는 위기를 아슬아슬 피해가게 됩니다. 하마터면 자신의 인생 항로에 큰 변화를 줘야 할 위기인데 이를 슬기롭게 피해가니 자신이 한층 업그레이드 되었다고 느끼게 될 것입니다.\n\n"+
         "커플인 분의 경우 상대방과 약간 소원해지게 됩니다. 딱히 무슨 계기가 있었던 것도 아닌데 저절로 그렇게 되니 그다지 위기감을 느끼지도 않습니다. 하지만 이런 시간이 오래 지속되도록 두어서는 안 됩니다.\n\n"+
         "재물운은 조금씩 좋아지게 될 것입니다. 하지만 아직까지도 그다지 재물운이 좋지는 않으니 섣부른 투자 등은 좋지 않습니다. 또한 자신의 판단에 따르기 보다는 다른 사람의 조언에 따르는 것이 좋습니다.";
         else if(prediction[bestPredictionIdx].className == "전갈자리")
         airesult.innerText ="될듯될듯 하면서 조금씩 엇나가게 되는 날입니다. 특별하게 일이 안 되는 원인이 있는 것은 아니니 자신의 노력이 조금 부족하다고 여기도록 하세요. 포기하지 말고 조금만 더 애를 쓰면 이루어질 것입니다.\n\n"+
         "싱글인 분이라면 궁색하게 굴지 않도록 하세요. 이성과의 만남에서 궁색한 모습을 보이면 제대로 성사가 되지 않습니다. 커플인 분의 경우에는 상대방과의 약속을 어기지 않도록 주의해야 합니다.\n\n"+
         "재물운은 아주 좋습니다. 돈이 있다면 투자처를 알아보도록 하세요. 적극적인 태도를 보일수록 이익이 커지게 될 것입니다. 주변으로부터 능력을 인정받는 날이기도 하니 이직이나 승진의 운도 있습니다.";
         else if(prediction[bestPredictionIdx].className == "사수자리")
         airesult.innerText ="친구들과 함께 움직이면 행운이 따르게 됩니다. 자신을 잘 아는 사람들과 함께 하면 좀처럼 생기지 않던 용기도 불끈 솟아오르게 되는 법이지요. 자신을 마음껏 드러내면 좋습니다.\n\n"+
         "싱글인 분이라면 영화와 같은 만남을 갖게 될 수 있습니다. 첫눈에 반한다는 것이 무엇을 의미하는지 알게 될 수도 있겠네요. 커플인 분도 나쁘지 않은 애정운입니다. 뭐니뭐니해도 당신의 연인이 최고라는 사실을 알게 될 수도 있습니다.\n\n"+
         "약간의 손실운이 있습니다. 돈을 모으는 데에 주력해야 할 때가 아니라 돈이 나가지 않도록 애를 써야 하는 때입니다. 자신이 아끼는 물건을 잃어버리게 될 수도 있으니 주변 정리를 철저히 하도록 하세요.";
         else if(prediction[bestPredictionIdx].className == "염소자리")
         airesult.innerText ="조마조마 걱정하던 일이 있다면 그로 인하여 큰 사단이 벌어지게 될 수도 있습니다. 무조건 모른 척 기다리지만 마시고, 혹시 있을지도 모르는 상황에 대하여 미리미리 대비해 두는 것이 좋습니다.\n\n"+
         "오프라인의 만남 보다는 온라인의 만남이 당신에게 더욱 유리하게 작용할 것입니다. 커플인 분이라면 상대방이 조금 큰 실수를 하겠네요. 하지만 이것을 기회로 두 사람 사이가 역전이 될 수도 있습니다.\n\n"+
         "조금 돈에 쪼들리게 될 수도 있습니다. 불필요한 지출은 줄여주는 것이 현명하겠네요. 다만 자신의 외모를 가꾸는 데에 쓰는 돈은 어느 정도 필요합니다. 이렇게 하여 달라진 당신의 모습이 좋은 기회를 가져다 줄 수도 있습니다.";
         
    }
    async function example_2(){
      alert("별자리 운세입니다.\n공백에 그림을 넣어 운세를 확인하세요.");
      alert("1. [이미지 삽입] 버튼을 눌러 넣을 이미지를 선택합니다.\n\n"+
      "2. 이미지를 선택한 뒤 [운세 보기] 버튼을 눌러줍니다.\n\n"+
      "3. 잠시 뒤 선택한 그림의 운세대해 나오게 됩니다.\n\n"+
      "4. 그림에 대한 별자리 지분을 확인하려면 왼쪽 아래 [!] 버튼을 눌러주세요");
    }
    async function percent(){
      alert(a);
    }
    
</script>
<div class="abcde">
  <a href="#" class="previous" id="ap" onclick="example_2()">?</a>
  <button class="previousa" id="adp" value="별자리 정보" onclick="percent()" >!</button>
<div class="webcam-container">
    <h1>별자리 운세 </h1>
    <div class="garo">
    <div class="avatar-upload">
        <div class="avatar-preview">
              <img src="물음표.jpg" id="imagePreview">
            </div>
        </div>
    
    <div class="sero">
    <div class="avatar-edit">
        <input type='file' id="imageUpload" accept=".png, .jpg, .jpeg" />
        <label for="imageUpload">이미지 삽입</label>
    </div>

<button class= "snip1535" id= "aa" type="button" onclick="init()">운세 보기</button></div>
</div></div>
<div id="explain"></div>
<div class="star-bridge" id="starbridge_1"></div>
<h1></h1>
<div class="result" id="ai-result"></div>
</div>
<h1><small>제작자 - 이은수</small></h1>
</script>
    <script src="https://cpwebassets.codepen.io/assets/common/stopExecutionOnTimeout-1b93190375e9ccc259df3a57c1abc0e64599724ae30d7ea4c6877eb615f89387.js"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js'></script>
<script id="rendered-js" >
  
    function readURL(input) {
      
    if (input.files && input.files[0]) {
        var reader = new FileReader();
        reader.onload = function(e) {
            $('#imagePreview').attr('src', e.target.result); 
            $('#imagePreview').hide();
            $('#imagePreview').fadeIn(650);
            
        }
        reader.readAsDataURL(input.files[0]);
    }
    }
$("#imageUpload").change(function() {
    readURL(this);
});
</script>
